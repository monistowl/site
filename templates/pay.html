{% extends "base.html" %}

{%- block title -%}
Pay | {{ config.title }}
{%- endblock -%}

{%- block main -%}
{%- filter indent -%}{%- filter indent -%}
<header class="content">
    <h1>Pay Me</h1>
</header>

<div class="pay-methods">
    {% for method in page.extra.methods %}
    <article class="pay-card">
        <div class="pay-icon {{ method.icon }}">
            {% if method.icon == "paypal" %}
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944 3.72a.77.77 0 0 1 .757-.645h6.923c2.715 0 4.87.628 6.006 2.007.939 1.14 1.208 2.537.83 4.282l-.003.013v.003c-.477 2.7-2.025 4.396-4.21 5.276-1.096.441-2.327.68-3.665.714l-.27.003h-1.39a.774.774 0 0 0-.764.646L7.076 21.337z"/></svg>
            {% elif method.icon == "venmo" %}
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19.616 3.352c.636 1.044.92 2.12.92 3.49 0 4.348-3.72 9.996-6.744 13.965H6.84L4 4.632l6.096-.572 1.452 11.628c1.356-2.204 3.032-5.676 3.032-8.044 0-1.288-.22-2.168-.572-2.9l5.608-1.392z"/></svg>
            {% elif method.icon == "cashapp" %}
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M23.59 3.47A5.1 5.1 0 0 0 20.53.41C19.31.14 17.9 0 16.23 0H7.76C6.09 0 4.69.14 3.46.41A5.1 5.1 0 0 0 .41 3.47C.14 4.69 0 6.09 0 7.76v8.47c0 1.67.14 3.07.41 4.29a5.1 5.1 0 0 0 3.05 3.06c1.22.27 2.62.41 4.29.41h8.47c1.67 0 3.07-.14 4.29-.41a5.1 5.1 0 0 0 3.06-3.06c.27-1.22.41-2.62.41-4.29V7.76c0-1.67-.14-3.07-.41-4.29zM17.42 13.5c-.27.8-.74 1.47-1.39 1.99a5.5 5.5 0 0 1-2.05 1.06l.46 1.68c.06.21-.08.43-.3.43h-2.25a.32.32 0 0 1-.31-.24l-.44-1.58a8.5 8.5 0 0 1-1.91-.37l-.06.02-.47 1.68c-.05.18-.23.3-.42.26l-1.97-.51a.32.32 0 0 1-.22-.39l.49-1.75a6.3 6.3 0 0 1-1.72-1.37.32.32 0 0 1 .02-.45l1.35-1.32a.32.32 0 0 1 .45.01c.42.46.94.83 1.54 1.07l.87-3.11-1.1-.28a3.4 3.4 0 0 1-1.93-1.26 3.2 3.2 0 0 1-.48-2.15c.12-.71.43-1.32.93-1.83a4.2 4.2 0 0 1 1.76-1.07l-.35-1.25c-.06-.21.08-.43.3-.43h2.25c.15 0 .27.1.31.24l.33 1.18c.58.07 1.13.19 1.65.36l.35-1.26c.05-.18.23-.3.42-.26l1.97.51c.18.05.28.24.22.39l-.36 1.29c.69.4 1.27.91 1.71 1.52a.32.32 0 0 1-.03.42l-1.41 1.4a.32.32 0 0 1-.46-.02 3.3 3.3 0 0 0-1.26-.93l-.87 3.12.97.25c.84.21 1.54.64 2.07 1.26.54.62.83 1.36.87 2.2a3.4 3.4 0 0 1-.34 1.63z"/></svg>
            {% elif method.icon == "btc" %}
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M23.638 14.904c-1.602 6.43-8.113 10.34-14.542 8.736C2.67 22.05-1.244 15.525.362 9.105 1.962 2.67 8.475-1.243 14.9.358c6.43 1.605 10.342 8.115 8.738 14.546zm-6.35-4.613c.24-1.59-.974-2.45-2.64-3.03l.54-2.153-1.315-.33-.52 2.1c-.347-.087-.702-.167-1.057-.248l.526-2.11-1.317-.33-.54 2.157c-.287-.065-.57-.13-.843-.2l.001-.007-1.815-.454-.35 1.407s.974.223.954.238c.533.133.63.485.613.764l-.614 2.46c.037.01.085.024.138.047l-.14-.035-.86 3.448c-.065.16-.23.4-.6.31.013.02-.954-.238-.954-.238l-.652 1.51 1.71.427.94.234-.548 2.19 1.317.327.54-2.17c.36.1.707.19 1.05.273l-.537 2.148 1.317.33.548-2.18c2.25.427 3.94.254 4.65-1.78.57-1.636-.03-2.58-1.21-3.2.86-.198 1.51-.764 1.68-1.93zm-3.01 4.22c-.404 1.64-3.157.75-4.05.53l.72-2.9c.896.223 3.757.67 3.33 2.37zm.41-4.24c-.37 1.49-2.66.734-3.4.55l.654-2.64c.74.18 3.13.52 2.75 2.084z"/></svg>
            {% elif method.icon == "sol" %}
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M17.28 6.882a.67.67 0 0 0-.478-.199H3.537a.34.34 0 0 0-.239.578l2.941 2.941a.67.67 0 0 0 .478.199h13.265a.339.339 0 0 0 .24-.578L17.28 6.882zm0 10.236a.67.67 0 0 0-.478-.199H3.537a.339.339 0 0 0-.239.578l2.941 2.94a.67.67 0 0 0 .478.2h13.265a.339.339 0 0 0 .24-.579l-2.942-2.94zm0-6.956L14.34 13.1a.67.67 0 0 1-.478.2H.596a.339.339 0 0 1-.24-.579l2.942-2.94a.67.67 0 0 1 .478-.2h13.265a.339.339 0 0 1 .24.579z"/></svg>
            {% elif method.icon == "eth" %}
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 17.97L4.58 13.62 11.943 24l7.37-10.38-7.372 4.35h.003zM12.056 0L4.69 12.223l7.365 4.354 7.365-4.35L12.056 0z"/></svg>
            {% endif %}
        </div>
        <div class="pay-info">
            <h3>{{ method.name }}</h3>
            {% if method.handle %}
            <code class="pay-code">{{ method.handle }}</code>
            {% if method.hint %}
            <span class="pay-hint">{{ method.hint }}</span>
            {% endif %}
            {% elif method.address %}
            <code class="pay-code pay-address">{{ method.address }}</code>
            {% endif %}
        </div>
        <div class="pay-actions">
            {% if method.url %}
            <a href="{{ method.url }}" target="_blank" rel="noopener" class="pay-btn">[open]</a>
            {% endif %}
            <button class="pay-btn copy-btn" data-copy="{% if method.handle %}{{ method.handle }}{% else %}{{ method.address }}{% endif %}">[copy]</button>
            {% if method.address %}
            <button class="pay-btn qr-btn" data-address="{{ method.address }}">[qr]</button>
            {% endif %}
        </div>
        {% if method.address %}
        <details class="qr-foldout">
            <summary class="sr-only">Show QR Code</summary>
            <div class="qr-container" data-qr-address="{{ method.address }}"></div>
        </details>
        {% endif %}
    </article>
    {% endfor %}
</div>

<script src="{{ get_url(path='js/qrcode.js') }}"></script>
<script src="{{ get_url(path='js/pay.js') }}"></script>
{% endfilter %}{% endfilter %}
{%- endblock -%}
